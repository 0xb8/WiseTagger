language: cpp

os:
  - linux

dist: trusty

git:
  depth: 3

addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - g++-6

install:
  - lsb_release -a
  - sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-6 60
  - sudo apt-add-repository -y ppa:beineri/opt-qt-5.10.1-trusty
  - sudo apt-get -qq update
  - sudo apt-get -qq install qt510tools qt510base qt510svg qt510imageformats qt510translations

script:
  - QTDIR="/opt/qt510"
  - PATH="$QTDIR/bin:$PATH"
  - qt510-env.sh
  - qmake CONFIG+=release
  - make
